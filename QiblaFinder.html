<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qiblat Finder</title>
</head>

<body>

    <script src="QiblaFinder.js"></script>
    <h1>Qiblat Finder</h1>

    <form>
        <label for="latitude">Latitude:</label><br>
        <input type="number" id="latitude" name="latitude"><br>
        <label for="longitude">Longitude:</label><br>
        <input type="number" id="longitude" name="longitude"><br>
        <button type="submit" onclick="getQiblaDirection()">Get Qibla Direction</button>
    </form>

    <p id="qibla-direction"></p>

    <script>
        function getQiblaDirection() {
            var lat = document.getElementById("latitude").value;
            var lng = document.getElementById("longitude").value;

            var url = 'http://api.aladhan.com/v1/qibla/' + lat + '/' + lng;
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    document.getElementById("qibla-direction").innerHTML = "Qibla direction: " + data.data.direction;
                });
        }
    </script>

    <<<<<<<<<<<<<< ✨ Codeium Command ⭐>>>>>>>>>>>>>>>>
        <h2>Qibla Direction on Google Map</h2>
        <div id="map" style="width:800px;height:600px;"></div>
        <script
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDCyWggShoELr2-8JYuPV3UZaxwN8_NzcE&libraries=places"></script>
        <script>
            function initMap() {
                var map = new google.maps.Map(document.getElementById('map'), {
                    center: {
                        lat: parseFloat(document.getElementById("latitude").value),
                        lng: parseFloat(document.getElementById("longitude").value)
                    },
                    zoom: 8
                });
                var marker = new google.maps.Marker({
                    position: {
                        lat: parseFloat(document.getElementById("latitude").value),
                        lng: parseFloat(document.getElementById("longitude").value)
                    },
                    map: map
                });
                var direction = document.getElementById("qibla-direction").innerHTML.split(":")[1].trim();
                var directionRad = Math.PI * direction / 180;
                var latitudeRad = Math.PI * parseFloat(document.getElementById("latitude").value) / 180;
                var longitudeRad = Math.PI * parseFloat(document.getElementById("longitude").value) / 180;
                var y = Math.sin(directionRad) * Math.cos(latitudeRad);
                var x = Math.cos(directionRad) * Math.sin(longitudeRad);
                var qiblaLatLong = {
                    lat: Math.asin(Math.sin(latitudeRad) * Math.cos(directionRad) / Math.sqrt(1 + Math.pow(y, 2))),
                    lng: longitudeRad + Math.atan2(x, Math.sqrt(1 + Math.pow(y, 2)))
                };
                var qiblaMarker = new google.maps.Marker({
                    position: qiblaLatLong,
                    map: map
                });
                var directionLine = new google.maps.Polyline({
                    path: [
                        marker.position,
                        qiblaMarker.position
                    ],
                    geodesic: true,
                    strokeColor: '#000000',
                    strokeOpacity: 1.0,
                    strokeWeight: 2
                });
                directionLine.setMap(map);
            }
            google.maps.event.addDomListener(window, 'load', initMap);
        </script>

        <<<<<<< 6e601bc1-e94c-4468-83d2-2f8668337f43>>>>>>>

</body>

</html>